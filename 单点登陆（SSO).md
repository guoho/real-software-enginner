# 单点登陆（SSO)

## 概念说明
什么是单点登陆的，简单的说就是一处登陆，到处登陆。
一个公司业务刚开始时，只有一个域名或一个系统是不需要单点登陆的，但随着业务的增长，应用的增多，在使用

## 单点登陆要解决的问题

1. 统一登陆，即一处登陆了，其它子应用则不用登陆；
2. 统一退出，即一处退出了，其它应用则全部退出。

##实现方式及优缺点

1. 共享Cookie的方式, 即多个应用共享同一Cookie从而实现多个域名的统一登陆。

   此种方式的优点是简单方案，实现起来几乎不用做多于的工作
   
   但缺点也很明显，即不够安全，也无法应用于跨域名的统一原因，原因是由于浏览器同源策略限制，导致Cookie无法在不同域名间共享，从而导致此种方式只能适用于不同子域名之间的安全登陆，而想要实现跨域名的安全登陆几科是不可能的事情；
   
   另一个原因是不同应用如果使用不同的技术解决方案或不同的开发语言，那Session的处理机制也会不一样，也会导致在使用Cookie来实现统一
   
2. JSONP的方式，实现跨域登陆：JSONP不是JSON在服务端的变体，它只是一种跨域文件引入机制，它的本质是通过JS文件引入的形式实现跨域数据请求，以完全解决Cookie跨域共享的问题。

   相对于简单的Cookie共享，只需要在服务器端就可以实现子域名间统一登陆，JSONP需要借助浏览器的跳转或JS代码执行来实现跨域的统一登陆。
    
3. 登陆开源的SSO解决方案，如Oauth,OpenID,CAS等方式实现。相对于JSONP方式，oauth,cas等统一登陆方式使用。

4. 使用自我实现的中间服务器进行登陆；



##BAT等互联网SSO实现方式分析

#### 京东实现方式解析

参照： http://blog.csdn.net/lan861698789/article/details/50319067?locationNum=5&fps=1

#### 淘宝实现方式解析

参照：http://blog.csdn.net/lan861698789/article/details/50319067?locationNum=5&fps=1



## 通过JSONP实现简单的单点登陆及源码

## 结语

随机移动互联网的兴起，手机APP及微信已经大大超过网页的访问量，而APP及微信基本上不再使用单点登陆来实现。故单点登陆的重要性，已大大地降低。

### 参考文章：

* http://www.cnblogs.com/youring2/p/sso-practice.html
* http://www.cnblogs.com/gxbk629/p/4473569.html
* http://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html
